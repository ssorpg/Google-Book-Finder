(window["webpackJsonpgoogle-book-finder"]=window["webpackJsonpgoogle-book-finder"]||[]).push([[0],{30:function(e,a,t){e.exports=t(69)},35:function(e,a,t){},36:function(e,a,t){},37:function(e,a,t){},56:function(e,a,t){},57:function(e,a,t){},58:function(e,a,t){},59:function(e,a,t){},60:function(e,a,t){},61:function(e,a,t){},62:function(e,a,t){},63:function(e,a,t){},69:function(e,a,t){"use strict";t.r(a);var o=t(0),n=t.n(o),r=t(26),c=t.n(r),l=(t(35),t(27)),s=t(6);t(36);var i=function(){return n.a.createElement("nav",{className:"Navs"},n.a.createElement("ul",{className:"nav nav-tabs"},n.a.createElement("li",{className:"nav-item"},n.a.createElement("a",{className:"/"===window.location.pathname?"nav-link active Navs-a":"nav-link",href:"/"},"Search Books")),n.a.createElement("li",{className:"nav-item"},n.a.createElement("a",{className:"/saved"===window.location.pathname?"nav-link active Navs-a":"nav-link",href:"/saved"},"Saved Books"))))};t(37);var m=function(){return n.a.createElement("header",{className:"Header"},n.a.createElement("div",{className:"Header-size"},n.a.createElement("h1",{className:"Header-text"},"Google Books Search"),n.a.createElement("h4",null,"Search and Save Books of Interest")))},u=t(10),k=t(11),d=t(13),v=t(12),p=t(14),f=t(7),h=t.n(f),E={getBooks:function(){return h.a.get("/api/books")},deleteBook:function(e){return h.a.delete("/api/books/"+e)},addBook:function(e){return h.a.post("/api/books",e)}},B={getBook:function(e){return h.a.get("https://www.googleapis.com/books/v1/volumes?q="+encodeURIComponent(e))}};t(56);var b=function(e){var a=e.searchBooks;return n.a.createElement("section",{className:"SearchField"},n.a.createElement("form",{className:"SearchField-form",onSubmit:a},n.a.createElement("h2",null,"Book Search"),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"query",className:"SearchField-label"},"Book name"),n.a.createElement("input",{type:"text",name:"query",className:"form-control",id:"query",placeholder:"Harry Potter"})),n.a.createElement("input",{type:"submit",value:"Submit",className:"btn btn-primary"})))};t(57);var N=function(e){var a=e.book,t=e.saveBook;return n.a.createElement("div",{className:"Book row"},n.a.createElement("img",{src:a.image,alt:"",className:"col-1"}),n.a.createElement("div",{className:"col-11",name:"bookData"},n.a.createElement("div",{className:"Book-property"},"Title: ".concat(a.title)),n.a.createElement("div",{className:"Book-property"},"Author(s): ".concat(a.authors.join(", "))),n.a.createElement("div",{className:"Book-property"},"Description: ".concat(a.description)),n.a.createElement("br",null),n.a.createElement("div",{className:"Book-property Book-link"},n.a.createElement("a",{href:a.link,target:"_blank",rel:"noopener noreferrer"},"Google Books preview")),n.a.createElement("button",{onClick:t,"data-image":a.image,"data-title":a.title,"data-authors":a.authors,"data-description":a.description,"data-link":a.link,className:"Book-submit btn btn-info"},"Save")))};t(58);var g=function(e){var a=e.books,t=e.saveBook;return n.a.createElement("section",{className:"SearchResults"},n.a.createElement("h2",null,"Search Results"),a?a.map(function(e,a){return n.a.createElement(N,{book:e,saveBook:t,key:a})}):"")},w=(t(59),function(e){function a(){var e,t;Object(u.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(t=Object(d.a)(this,(e=Object(v.a)(a)).call.apply(e,[this].concat(n)))).state={books:[]},t.searchBooks=function(e){e.preventDefault(),B.getBook(e.target.query.value).then(function(e){var a=[];e.data.items.forEach(function(e){a.push(t.extractBookInfo(e))}),t.setState({books:a})})},t.extractBookInfo=function(e){var a=e.volumeInfo,t=a.title,o=a.authors,n=a.description,r=a.imageLinks,c=a.previewLink;return{title:t||"Unknown",authors:o||["Unknown"],description:n||"None",image:r?r.thumbnail:"",link:c||""}},t.saveBook=function(e){e.preventDefault();var a=e.target.dataset,t=a.title,o=a.authors,n=a.description,r=a.image,c=a.link,l={title:t,authors:o.split(","),description:n,image:r,link:c};E.addBook(l)},t}return Object(p.a)(a,e),Object(k.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"SearchBooks"},n.a.createElement(b,{searchBooks:this.searchBooks}),n.a.createElement(g,{books:this.state.books,saveBook:this.saveBook}))}}]),a}(n.a.Component));t(60);var y=function(e){var a=e.book,t=e.deleteBook;return n.a.createElement("div",{className:"Book row"},n.a.createElement("img",{src:a.image,alt:"",className:"col-1"}),n.a.createElement("div",{className:"col-11",name:"bookData"},n.a.createElement("div",{className:"Book-property"},"Title: ".concat(a.title)),n.a.createElement("div",{className:"Book-property"},"Author(s): ".concat(a.authors.join(", "))),n.a.createElement("div",{className:"Book-property"},"Description: ".concat(a.description)),n.a.createElement("br",null),n.a.createElement("div",{className:"Book-property Book-link"},n.a.createElement("a",{href:a.link,target:"_blank",rel:"noopener noreferrer"},"Google Books preview")),n.a.createElement("button",{onClick:t,"data-id":a._id,className:"Book-submit btn btn-danger"},"\u2717")))};t(61);var S=function(e){var a=e.books,t=e.deleteBook;return n.a.createElement("section",{className:"SavedResults"},n.a.createElement("h2",null,"Saved Books"),a?a.map(function(e,a){return n.a.createElement(y,{book:e,deleteBook:t,key:a})}):"")},j=(t(62),function(e){function a(){var e,t;Object(u.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(t=Object(d.a)(this,(e=Object(v.a)(a)).call.apply(e,[this].concat(n)))).state={books:[]},t.componentDidMount=function(){t.loadBooks()},t.loadBooks=function(){E.getBooks().then(function(e){console.log(e),t.setState({books:e.data})})},t.deleteBook=function(e){e.preventDefault(),E.deleteBook(e.target.dataset.id).then(function(){t.loadBooks()})},t}return Object(p.a)(a,e),Object(k.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"SavedBooks"},n.a.createElement(S,{books:this.state.books,deleteBook:this.deleteBook}))}}]),a}(n.a.Component));t(63);var O=function(){return n.a.createElement(l.a,null,n.a.createElement("div",{className:"App"},n.a.createElement(i,null),n.a.createElement(m,null),n.a.createElement(s.c,null,n.a.createElement(s.a,{exact:!0,path:"/",component:w}),n.a.createElement(s.a,{exact:!0,path:"/saved",component:j}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[30,1,2]]]);
//# sourceMappingURL=main.5dfa0e24.chunk.js.map